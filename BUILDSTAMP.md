# ğŸ§± BuildStamp â€” Embed Build Metadata

BuildStamp is a lightweight cross-platform CLI that injects build metadata (version, commit, timestamp, tags) into your .NET or Unity projects automatically.

Itâ€™s designed for integration with AutoVersion Lite, ZipRelease, and CompleteRelease, forming part of the Solcogito DevOps Suite.

## âœ¨ Features

- ğŸ•“ Embed build timestamp automatically

- ğŸ§© Integrates with AutoVersion (version.json schema)

- ğŸ”€ Git-aware: includes branch and commit info

- ğŸ·ï¸ Custom tags for build flavor (e.g., beta, nightly, internal)

- ğŸ’¾ Multiple output modes â€” JSON, C#, Markdown, Text

- âš™ï¸ Zero dependencies â€” pure .NET 8 CLI

- ğŸ”’ Reproducible builds supported

## ğŸš€ Quickstart

### 1. Install
```
dotnet tool install --global Solcogito.BuildStamp
# or
iwr https://raw.githubusercontent.com/Solcogito/BuildStamp/main/install.ps1 -useb | iex
```

### 2. Generate a stamp file
```
buildstamp --out ./Builds/buildinfo.json
```

Result:
```
{
  "project": "AutoVersion.Lite",
  "version": "0.7.2",
  "branch": "development",
  "commit": "f62b7e3",
  "timestamp": "2025-11-04T15:42:11Z"
}
```

## ğŸ§° CLI Usage
```
buildstamp [options]
```

|Flag|Description|Example|
|----|-----------|-------|
|--out <path>	|Output file (default: buildinfo.json)	|--out ./src/BuildInfo.cs|
|--format <fmt>	|Format: json, cs, text, md	|--format cs|
|--project <name>	|Set project name	|--project Solcogito.AutoVersion|
|--version <ver>	|Override version	|--version 1.0.0|
|--branch <name>	|Override git branch	|--branch release|
|--commit <hash>	|Override commit hash	|--commit abc1234|
|--timestamp <iso>	|Override timestamp	|--timestamp 2025-11-04T15:42:00Z|
|--tag <label>	|Add custom tag	|--tag nightly|
|--quiet	|Suppress console output	|--quiet|
|--help|Show help|--help|

## ğŸ§© Integration Examples

### C# Static Class Injection
```
buildstamp --format cs --out ./src/BuildInfo.cs
```

Result:
```
// Auto-generated by BuildStamp
namespace Solcogito {
    internal static class BuildInfo {
        public const string Project = "AutoVersion.Lite";
        public const string Version = "0.7.2";
        public const string Commit = "f62b7e3";
        public const string Branch = "development";
        public const string Timestamp = "2025-11-04T15:42:11Z";
        public const string Tag = "nightly";
    }
}
```

## Markdown Embed (for Release Notes)
```
buildstamp --format md --out ./Builds/BUILD_INFO.md
```

Result:
```
**Version:** 0.7.2  
**Branch:** development  
**Commit:** f62b7e3  
**Built:** 2025-11-04 15:42 UTC
```

## ğŸ”— CI/CD Integration

### GitHub Actions Example
```
- name: Generate Build Stamp
  run: |
    buildstamp --format json --out buildinfo.json
    echo "BUILD_VERSION=$(jq -r .version buildinfo.json)" >> $GITHUB_ENV
```

### PowerShell Build Script Example
```
Write-Host "=== Stamping build metadata ==="
buildstamp --format json --out ./Builds/buildinfo.json
```

## ğŸ§± Example Project Structure
```
/AutoVersion.Lite
 â”œâ”€ src/
 â”‚   â”œâ”€ Program.cs
 â”‚   â”œâ”€ BuildInfo.cs        â† auto-generated by BuildStamp
 â”‚
 â”œâ”€ Builds/
 â”‚   â””â”€ buildinfo.json
 â”‚
 â”œâ”€ build.ps1
 â”œâ”€ BUILDSTAMP.md
 â”œâ”€ README.md
 â””â”€ LICENSE
```

## ğŸ§  Tips

- Run BuildStamp before packaging (e.g. in ZipRelease step).

- Combine with AutoVersion for seamless version bump and traceability.

- Use .gitignore to exclude generated files if not tracked.

- Add build tags for custom release channels like stable, rc, or dev.

## ğŸ§© Works Seamlessly With

|Tool	|Role|
|----|------|
|AutoVersion	|Version management|
|ZipRelease	|Package distribution|
|CompleteRelease	|CI/CD orchestration|
|LicenseKeyTiny	|Key verification|
|ChecksumTool	|Integrity validation|

## ğŸªª License

MIT License
(c) 2025 Solcogito S.E.N.C.
https://github.com/Solcogito/BuildStamp